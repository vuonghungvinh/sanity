'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

function onKeyDown(event, data, change) {
  if (data.key !== 'tab') {
    return null;
  }
  var state = change.state;
  var listBlocks = state.blocks.filter(function (block) {
    return block.data.get('listItem');
  });
  if (listBlocks.size === 0) {
    return null;
  }
  event.preventDefault();
  listBlocks.forEach(function (listNode) {
    var listItemData = listNode.data.toObject();
    listItemData.level = listItemData.level || 1;
    if (data.isShift) {
      listItemData.level--;
      listItemData.level = listItemData.level || 1; // Min level 1
    } else {
      listItemData.level++;
      listItemData.level = listItemData.level < 11 ? listItemData.level : 10; // Max level 10
    }
    change.setNodeByKey(listNode.key, { data: listItemData });
  });
  return change;
}

exports.default = function () {
  return { onKeyDown: onKeyDown };
};