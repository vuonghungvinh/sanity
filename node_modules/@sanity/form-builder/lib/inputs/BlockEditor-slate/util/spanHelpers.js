'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getSpanType = getSpanType;
exports.getSpansField = getSpansField;
exports.getBlockField = getBlockField;
exports.openSpanDialog = openSpanDialog;

var _findComponentFromDOMNode = require('./findComponentFromDOMNode');

var _findComponentFromDOMNode2 = _interopRequireDefault(_findComponentFromDOMNode);

var _slate = require('slate');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function getSpanType(blockArrayType) {
  return getSpansField(blockArrayType).type.of.find(function (type) {
    return type.name === 'span';
  });
}

function getSpansField(blockArrayType) {
  return getBlockField(blockArrayType).fields.find(function (field) {
    return field.name === 'spans';
  });
}

function getBlockField(blockArrayType) {
  return blockArrayType.of.find(function (ofType) {
    return ofType.type.name === 'block';
  });
}

// Opens a span components editing dialog from a Slate node input
function openSpanDialog(spanNode) {
  var component = (0, _findComponentFromDOMNode2.default)((0, _slate.findDOMNode)(spanNode));
  component.setState({ isEditing: true });
}