'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.readAsText = readAsText;

var _observable = require('@sanity/observable');

var _observable2 = _interopRequireDefault(_observable);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function readAsText(file /*: File*/) {
  return new _observable2.default(function (observer) {
    var reader = new FileReader();
    reader.onerror = function (error) {
      return observer.error(error);
    };
    reader.onload = function () {
      observer.next(reader.result);
      observer.complete();
    };
    reader.readAsText(file);
    return function () {
      reader.abort();
    };
  });
}