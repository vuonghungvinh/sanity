'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = ReferringDocumentsList;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _propTypes = require('prop-types');

var _propTypes2 = _interopRequireDefault(_propTypes);

var _default = require('part:@sanity/components/lists/default');

var _ReferringDocumentsList = require('./styles/ReferringDocumentsList.css');

var _ReferringDocumentsList2 = _interopRequireDefault(_ReferringDocumentsList);

var _preview = require('part:@sanity/base/preview');

var _preview2 = _interopRequireDefault(_preview);

var _router = require('part:@sanity/base/router');

var _schema = require('part:@sanity/base/schema');

var _schema2 = _interopRequireDefault(_schema);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function ReferringDocumentsList(props) {
  var documents = props.documents;

  return _react2.default.createElement(
    _default.List,
    { className: _ReferringDocumentsList2.default.root },
    documents.map(function (document) {
      var schemaType = _schema2.default.get(document._type);
      return _react2.default.createElement(
        _default.Item,
        { className: _ReferringDocumentsList2.default.item, key: document._id },
        schemaType ? _react2.default.createElement(
          _router.IntentLink,
          { className: _ReferringDocumentsList2.default.link, intent: 'edit', params: { id: document._id, type: document._type } },
          _react2.default.createElement(_preview2.default, { value: document, type: schemaType })
        ) : _react2.default.createElement(
          'div',
          null,
          'A document of the unknown type ',
          _react2.default.createElement(
            'em',
            null,
            document._type
          )
        )
      );
    })
  );
}

ReferringDocumentsList.propTypes = {
  documents: _propTypes2.default.arrayOf(_propTypes2.default.shape({
    _id: _propTypes2.default.string,
    _type: _propTypes2.default.string
  }))
};