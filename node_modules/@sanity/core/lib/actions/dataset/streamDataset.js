'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _simpleGet = require('simple-get');

var _simpleGet2 = _interopRequireDefault(_simpleGet);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = (client, dataset) => {
  // Sanity client doesn't handle streams natively since we want to support node/browser
  // with same API. We're just using it here to get hold of URLs and tokens.
  const url = client.getUrl(`/data/export/${dataset}`);
  const headers = { Authorization: `Bearer ${client.config().token}` };
  return new Promise((resolve, reject) => {
    (0, _simpleGet2.default)({ url: url, headers: headers }, (err, res) => err ? reject(err) : resolve(res));
  });
};