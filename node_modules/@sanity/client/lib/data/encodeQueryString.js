"use strict";

var enc = encodeURIComponent;

module.exports = function (_ref) {
  var query = _ref.query,
      _ref$params = _ref.params,
      params = _ref$params === undefined ? {} : _ref$params,
      _ref$options = _ref.options,
      options = _ref$options === undefined ? {} : _ref$options;

  var base = "?query=" + enc(query);
  var qString = Object.keys(params).reduce(function (qs, param) {
    return qs + "&" + enc("$" + param) + "=" + enc(JSON.stringify(params[param]));
  }, base);

  return Object.keys(options).reduce(function (qs, option) {
    // Only include the option if it is truthy
    return options[option] ? qs + "&" + enc(option) + "=" + enc(options[option]) : qs;
  }, qString);
};