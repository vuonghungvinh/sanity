'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = assetUrlBuilder;
var sanityUrlMatch = /^https?:\/\/cdn.sanity.\w+\/images\//;

function assetUrlBuilder(asset) {
  var url = asset.url,
      width = asset.width,
      height = asset.height,
      fit = asset.fit;

  if (!sanityUrlMatch.test(url) || url.indexOf('?') !== -1) {
    return url;
  }

  var defaultFit = width === height ? 'crop' : 'clip';
  var params = [width && 'w=' + width, height && 'h=' + height, 'fit=' + (fit ? fit : defaultFit), 'q=85'].filter(Boolean).join('&');

  return url + '?' + params;
}