{"version":3,"sources":["webpack:///ink.js","webpack:///webpack/bootstrap 61163a21e46eb80812b8","webpack:///./src/util/equations.js","webpack:///./src/style.js","webpack:///./src/util/hasTouch.js","webpack:///./src/util/pixelRatio.js","webpack:///./src/util/pure.js","webpack:///./src/util/store.js","webpack:///external \"react\"","webpack:///./src/util/easing.js","webpack:///./src/index.js"],"names":["module","exports","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","value","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","getPress","blot","min","duration","Date","now","mouseDown","getRelease","mouseUp","getRadius","radius","down","easing","up","undulation","cos","max","SQRT_2","Math","sqrt","getMaxRadius","height","width","getBlotOpacity","opacity","getBlotOuterOpacity","this","getBlotShiftX","size","x","getBlotShiftY","y","getBlotScale","borderRadius","left","position","top","bool","window","DocumentTouch","document","context","devicePixelRatio","backingStoreRatio","webkitBackingStorePixelRatio","mozBackingStorePixelRatio","msBackingStorePixelRatio","oBackingStorePixelRatio","backingStorePixelRatio","props","state","Equations","killStale","_ref","publicize","_data","_playing","_frame","Store","each","callback","scope","length","play","update","stop","cancelAnimationFrame","getTotalOpacity","answer","filter","requestAnimationFrame","add","push","release","time","require","t","b","_extends","assign","target","arguments","source","key","HAS_TOUCH","MOUSE_LEFT","pixelRatio","React","STYLE","Types","PropTypes","TAU","PI","Pure","Ink","createClass","displayName","shouldComponentUpdate","propTypes","background","number","recenter","hasTouch","getDefaultProps","getInitialState","color","density","store","tick","touchEvents","onTouchStart","_onPress","onTouchEnd","_onRelease","onTouchCancel","onMouseDown","onMouseUp","onMouseLeave","_state","ctx","save","scale","clearRect","fillStyle","globalAlpha","fillRect","makeBlot","restore","_state2","beginPath","arc","closePath","fill","componentWillUnmount","pushBlot","timeStamp","clientX","clientY","_this","el","refs","canvas","HTMLCanvasElement","getDOMNode","_el$getBoundingClient","getBoundingClientRect","bottom","right","_window$getComputedSt","getComputedStyle","getContext","setState","render","_state3","createElement","className","ref","style","onDragOver","e","button","ctrlKey","changedTouches","_changedTouches$i"],"mappings":"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","file":"ink.js","sourcesContent":["module.exports =\n/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 8);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar easing = __webpack_require__(7);\nvar SQRT_2 = Math.sqrt(2);\nvar cos = Math.cos,\n    max = Math.max,\n    min = Math.min;\n\n\nfunction getPress(blot) {\n  return min(blot.duration, Date.now() - blot.mouseDown);\n}\n\nfunction getRelease(blot) {\n  return blot.mouseUp > 0 ? Date.now() - blot.mouseUp : 0;\n}\n\nfunction getRadius(blot) {\n  var duration = blot.duration,\n      radius = blot.radius;\n\n\n  var down = easing(getPress(blot), 0, radius, duration) * 0.85;\n  var up = easing(getRelease(blot), 0, radius, duration) * 0.15;\n  var undulation = radius * 0.02 * cos(Date.now() / duration);\n\n  return max(0, down + up + undulation);\n}\n\nmodule.exports = {\n  getMaxRadius: function getMaxRadius(height, width, radius) {\n    return min(max(height, width) * 0.5, radius);\n  },\n  getBlotOpacity: function getBlotOpacity(blot, opacity) {\n    return easing(getRelease(blot), opacity, -opacity, blot.duration);\n  },\n  getBlotOuterOpacity: function getBlotOuterOpacity(blot, opacity) {\n    return min(this.getBlotOpacity(blot, opacity), easing(getPress(blot), 0, 0.3, blot.duration * 3));\n  },\n  getBlotShiftX: function getBlotShiftX(blot, size, width) {\n    return min(1, getRadius(blot) / size * 2 / SQRT_2) * (width / 2 - blot.x);\n  },\n  getBlotShiftY: function getBlotShiftY(blot, size, height) {\n    return min(1, getRadius(blot) / size * 2 / SQRT_2) * (height / 2 - blot.y);\n  },\n  getBlotScale: function getBlotScale(blot) {\n    return getRadius(blot) / blot.radius;\n  }\n};\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports) {\n\nmodule.exports = {\n  borderRadius: \"inherit\",\n  height: \"100%\",\n  left: 0,\n  position: \"absolute\",\n  top: 0,\n  width: \"100%\"\n};\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports) {\n\nvar bool = false;\n\nif (typeof window !== 'undefined') {\n  bool = 'ontouchstart' in window || window.DocumentTouch && document instanceof DocumentTouch;\n}\n\nmodule.exports = bool;\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports) {\n\n// Good stuff here:\n// http://www.html5rocks.com/en/tutorials/canvas/hidpi/\n\nmodule.exports = function (context) {\n                        var devicePixelRatio = window.devicePixelRatio || 1;\n                        var backingStoreRatio = context.webkitBackingStorePixelRatio || context.mozBackingStorePixelRatio || context.msBackingStorePixelRatio || context.oBackingStorePixelRatio || context.backingStorePixelRatio || 1;\n\n                        return devicePixelRatio / backingStoreRatio;\n};\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports) {\n\nmodule.exports = function Pure(props, state) {\n  for (var p in props) {\n    if (this.props[p] !== props[p]) return true;\n  }\n\n  for (var s in state) {\n    if (this.state[s] !== state[s]) return true;\n  }\n\n  return false;\n};\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n * Ink Store\n * Keeps track of changes to ripple epicenters\n * so that <Ink /> can focus on rendering them.\n */\n\nvar Equations = __webpack_require__(0);\n\nvar killStale = function killStale(_ref) {\n  var mouseUp = _ref.mouseUp,\n      duration = _ref.duration;\n  return !mouseUp || Date.now() - mouseUp < duration;\n};\n\nmodule.exports = function (publicize) {\n  var _data = [];\n  var _playing = false;\n  var _frame = void 0;\n\n  var Store = {\n    each: function each(callback, scope) {\n      for (var i = 0, l = _data.length; i < l; i++) {\n        callback.call(scope, _data[i]);\n      }\n    },\n    play: function play() {\n      if (!_playing) {\n        _playing = true;\n        Store.update();\n      }\n    },\n    stop: function stop() {\n      _playing = false;\n      cancelAnimationFrame(_frame);\n    },\n    getTotalOpacity: function getTotalOpacity(opacity) {\n      var answer = 0;\n\n      for (var i = 0, l = _data.length; i < l; i++) {\n        answer += Equations.getBlotOuterOpacity(_data[i], opacity);\n      }\n\n      return answer;\n    },\n    update: function update() {\n      _data = _data.filter(killStale);\n\n      if (_data.length) {\n        _frame = requestAnimationFrame(Store.update);\n        publicize();\n      } else {\n        Store.stop();\n      }\n    },\n    add: function add(props) {\n      _data.push(props);\n      Store.play();\n    },\n    release: function release(time) {\n      for (var i = _data.length - 1; i >= 0; i--) {\n        if (!_data[i].mouseUp) {\n          return _data[i].mouseUp = time;\n        }\n      }\n    }\n  };\n\n  return Store;\n};\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"react\");\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports) {\n\n/**\n * @t is the current time (or position) of the tween. This can be seconds or frames, steps, seconds, ms, whatever – as long as the unit is the same as is used for the total time [3].\n * @b is the beginning value of the property.\n * @c is the change between the beginning and destination value of the property.\n * @d is the total time of the tween.\n */\n\nmodule.exports = function easeOutQuint(t, b, c, d) {\n  return c * ((t = t / d - 1) * t * t * t * t + 1) + b;\n};\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\n/**\n * Ink\n * Fills a container with an SVG object that provides feedback on mouse/touch\n * events with a rippling pool.\n */\n\nvar HAS_TOUCH = __webpack_require__(2);\nvar MOUSE_LEFT = 0;\nvar pixelRatio = __webpack_require__(3);\nvar React = __webpack_require__(6);\nvar STYLE = __webpack_require__(1);\nvar Store = __webpack_require__(5);\nvar Types = React.PropTypes;\nvar TAU = Math.PI * 2;\nvar Equations = __webpack_require__(0);\nvar Pure = __webpack_require__(4);\n\nvar Ink = React.createClass({\n  displayName: 'Ink',\n\n\n  shouldComponentUpdate: Pure,\n\n  propTypes: {\n    background: Types.bool,\n    duration: Types.number,\n    opacity: Types.number,\n    radius: Types.number,\n    recenter: Types.bool,\n    hasTouch: Types.bool\n  },\n\n  getDefaultProps: function getDefaultProps() {\n    return {\n      background: true,\n      duration: 1000,\n      opacity: 0.25,\n      radius: 150,\n      recenter: true,\n      hasTouch: HAS_TOUCH\n    };\n  },\n  getInitialState: function getInitialState() {\n    return {\n      color: 'transparent',\n      density: 1,\n      height: 0,\n      store: Store(this.tick),\n      touchEvents: this.touchEvents(),\n      width: 0\n    };\n  },\n  touchEvents: function touchEvents() {\n    if (this.props.hasTouch) {\n      return {\n        onTouchStart: this._onPress,\n        onTouchEnd: this._onRelease,\n        onTouchCancel: this._onRelease\n      };\n    } else {\n      return {\n        onMouseDown: this._onPress,\n        onMouseUp: this._onRelease,\n        onMouseLeave: this._onRelease\n      };\n    }\n  },\n  tick: function tick() {\n    var _state = this.state,\n        ctx = _state.ctx,\n        color = _state.color,\n        density = _state.density,\n        height = _state.height,\n        width = _state.width,\n        store = _state.store;\n\n\n    ctx.save();\n\n    ctx.scale(density, density);\n\n    ctx.clearRect(0, 0, width, height);\n\n    ctx.fillStyle = color;\n\n    if (this.props.background) {\n      ctx.globalAlpha = store.getTotalOpacity(this.props.opacity);\n      ctx.fillRect(0, 0, width, height);\n    }\n\n    store.each(this.makeBlot, this);\n\n    ctx.restore();\n  },\n  makeBlot: function makeBlot(blot) {\n    var _state2 = this.state,\n        ctx = _state2.ctx,\n        height = _state2.height,\n        width = _state2.width;\n    var x = blot.x,\n        y = blot.y,\n        radius = blot.radius;\n\n\n    ctx.globalAlpha = Equations.getBlotOpacity(blot, this.props.opacity);\n    ctx.beginPath();\n\n    if (this.props.recenter) {\n      var size = Math.max(height, width);\n\n      x += Equations.getBlotShiftX(blot, size, width);\n      y += Equations.getBlotShiftY(blot, size, height);\n    }\n\n    ctx.arc(x, y, radius * Equations.getBlotScale(blot), 0, TAU);\n\n    ctx.closePath();\n    ctx.fill();\n  },\n  componentWillUnmount: function componentWillUnmount() {\n    this.state.store.stop();\n  },\n  pushBlot: function pushBlot(timeStamp, clientX, clientY) {\n    var _this = this;\n\n    var el = this.refs.canvas;\n\n    // 0.13 support\n    if (el instanceof window.HTMLCanvasElement === false) {\n      el = el.getDOMNode();\n    }\n\n    var _el$getBoundingClient = el.getBoundingClientRect(),\n        top = _el$getBoundingClient.top,\n        bottom = _el$getBoundingClient.bottom,\n        left = _el$getBoundingClient.left,\n        right = _el$getBoundingClient.right;\n\n    var _window$getComputedSt = window.getComputedStyle(el),\n        color = _window$getComputedSt.color;\n\n    var ctx = this.state.ctx || el.getContext('2d');\n    var density = pixelRatio(ctx);\n    var height = bottom - top;\n    var width = right - left;\n    var radius = Equations.getMaxRadius(height, width, this.props.radius);\n\n    this.setState({ color: color, ctx: ctx, density: density, height: height, width: width }, function () {\n      _this.state.store.add({\n        duration: _this.props.duration,\n        mouseDown: timeStamp,\n        mouseUp: 0,\n        radius: radius,\n        x: clientX - left,\n        y: clientY - top\n      });\n    });\n  },\n  render: function render() {\n    var _state3 = this.state,\n        density = _state3.density,\n        height = _state3.height,\n        width = _state3.width,\n        touchEvents = _state3.touchEvents;\n\n\n    return React.createElement('canvas', _extends({ className: 'ink',\n      ref: 'canvas',\n      style: _extends({}, STYLE, this.props.style),\n      height: height * density,\n      width: width * density,\n      onDragOver: this._onRelease\n    }, touchEvents));\n  },\n  _onPress: function _onPress(e) {\n    var button = e.button,\n        ctrlKey = e.ctrlKey,\n        clientX = e.clientX,\n        clientY = e.clientY,\n        changedTouches = e.changedTouches;\n\n    var timeStamp = Date.now();\n\n    if (changedTouches) {\n      for (var i = 0; i < changedTouches.length; i++) {\n        var _changedTouches$i = changedTouches[i],\n            _clientX = _changedTouches$i.clientX,\n            _clientY = _changedTouches$i.clientY;\n\n        this.pushBlot(timeStamp, _clientX, _clientY);\n      }\n    } else if (button === MOUSE_LEFT && !ctrlKey) {\n      this.pushBlot(timeStamp, clientX, clientY);\n    }\n  },\n  _onRelease: function _onRelease() {\n    this.state.store.release(Date.now());\n  }\n});\n\nmodule.exports = Ink;\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// ink.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 8);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 61163a21e46eb80812b8","let easing = require('./easing')\nlet SQRT_2 = Math.sqrt(2)\nlet { cos, max, min } = Math\n\nfunction getPress(blot) {\n  return min(blot.duration, Date.now() - blot.mouseDown)\n}\n\nfunction getRelease(blot) {\n  return blot.mouseUp > 0 ? Date.now() - blot.mouseUp : 0\n}\n\nfunction getRadius(blot) {\n  let { duration, radius } = blot\n\n  let down       = easing(getPress(blot), 0, radius, duration) * 0.85\n  let up         = easing(getRelease(blot), 0, radius, duration) * 0.15\n  let undulation = radius * 0.02 * cos(Date.now() / duration)\n\n  return max(0, down + up + undulation)\n}\n\nmodule.exports = {\n\n  getMaxRadius(height, width, radius) {\n    return min(max(height, width) * 0.5, radius)\n  },\n\n  getBlotOpacity(blot, opacity) {\n    return easing(getRelease(blot), opacity, -opacity, blot.duration)\n  },\n\n  getBlotOuterOpacity(blot, opacity) {\n    return min(this.getBlotOpacity(blot, opacity),\n               easing(getPress(blot), 0, 0.3, blot.duration * 3))\n  },\n\n  getBlotShiftX(blot, size, width) {\n    return min(1,\n               getRadius(blot) / size * 2 / SQRT_2) * (width / 2 - blot.x)\n  },\n\n  getBlotShiftY(blot, size, height) {\n    return min(1,\n               getRadius(blot) / size * 2 / SQRT_2) * (height / 2 - blot.y)\n  },\n\n  getBlotScale(blot) {\n    return getRadius(blot) / blot.radius\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/util/equations.js","module.exports = {\n  borderRadius: \"inherit\",\n  height: \"100%\",\n  left: 0,\n  position: \"absolute\",\n  top: 0,\n  width: \"100%\"\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/style.js","var bool = false\n\nif (typeof window !== 'undefined') {\n  bool = ('ontouchstart' in window) || window.DocumentTouch && document instanceof DocumentTouch\n}\n\nmodule.exports = bool\n\n\n\n// WEBPACK FOOTER //\n// ./src/util/hasTouch.js","// Good stuff here:\n// http://www.html5rocks.com/en/tutorials/canvas/hidpi/\n\nmodule.exports = context => {\n  let devicePixelRatio  = window.devicePixelRatio || 1\n  let backingStoreRatio = context.webkitBackingStorePixelRatio ||\n                          context.mozBackingStorePixelRatio    ||\n                          context.msBackingStorePixelRatio     ||\n                          context.oBackingStorePixelRatio      ||\n                          context.backingStorePixelRatio       || 1\n\n  return devicePixelRatio / backingStoreRatio\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/util/pixelRatio.js","module.exports = function Pure (props, state) {\n  for (let p in props) {\n    if (this.props[p] !== props[p]) return true\n  }\n\n  for (let s in state) {\n    if (this.state[s] !== state[s]) return true\n  }\n\n  return false\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/util/pure.js","/**\n * Ink Store\n * Keeps track of changes to ripple epicenters\n * so that <Ink /> can focus on rendering them.\n */\n\nvar Equations = require('./equations')\n\nlet killStale = ({ mouseUp, duration }) => !mouseUp || (Date.now() - mouseUp) < duration\n\nmodule.exports = function(publicize) {\n  let _data    = []\n  let _playing = false\n  let _frame\n\n  let Store = {\n\n    each(callback, scope) {\n      for (var i = 0, l = _data.length; i < l; i++) {\n        callback.call(scope, _data[i])\n      }\n    },\n\n    play() {\n      if (!_playing) {\n        _playing = true\n        Store.update()\n      }\n    },\n\n    stop() {\n      _playing = false;\n      cancelAnimationFrame(_frame)\n    },\n\n    getTotalOpacity(opacity) {\n      let answer = 0\n\n      for (var i = 0, l = _data.length; i < l; i++) {\n        answer += Equations.getBlotOuterOpacity(_data[i], opacity)\n      }\n\n      return answer\n    },\n\n    update() {\n      _data = _data.filter(killStale)\n\n      if (_data.length) {\n        _frame = requestAnimationFrame(Store.update)\n        publicize()\n      } else {\n        Store.stop()\n      }\n    },\n\n    add(props) {\n      _data.push(props)\n      Store.play()\n    },\n\n    release(time) {\n      for (let i = _data.length - 1; i >= 0; i--) {\n        if (!_data[i].mouseUp) {\n          return _data[i].mouseUp = time\n        }\n      }\n    }\n\n  }\n\n  return Store\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/util/store.js","module.exports = require(\"react\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react\"\n// module id = 6\n// module chunks = 0","/**\n * @t is the current time (or position) of the tween. This can be seconds or frames, steps, seconds, ms, whatever – as long as the unit is the same as is used for the total time [3].\n * @b is the beginning value of the property.\n * @c is the change between the beginning and destination value of the property.\n * @d is the total time of the tween.\n */\n\nmodule.exports = function easeOutQuint (t, b, c, d) {\n  return c*((t=t/d-1)*t*t*t*t + 1) + b\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/util/easing.js","/**\n * Ink\n * Fills a container with an SVG object that provides feedback on mouse/touch\n * events with a rippling pool.\n */\n\nlet HAS_TOUCH  = require('./util/hasTouch')\nlet MOUSE_LEFT = 0\nlet pixelRatio = require('./util/pixelRatio')\nlet React      = require('react')\nlet STYLE      = require('./style')\nlet Store      = require('./util/store')\nlet Types      = React.PropTypes\nlet TAU        = Math.PI * 2\nlet Equations  = require('./util/equations')\nlet Pure       = require('./util/pure')\n\nlet Ink = React.createClass({\n\n  shouldComponentUpdate: Pure,\n\n  propTypes: {\n    background : Types.bool,\n    duration   : Types.number,\n    opacity    : Types.number,\n    radius     : Types.number,\n    recenter   : Types.bool,\n    hasTouch   : Types.bool\n  },\n\n  getDefaultProps() {\n    return {\n      background : true,\n      duration   : 1000,\n      opacity    : 0.25,\n      radius     : 150,\n      recenter   : true,\n      hasTouch   : HAS_TOUCH\n    }\n  },\n\n  getInitialState() {\n    return {\n      color       : 'transparent',\n      density     : 1,\n      height      : 0,\n      store       : Store(this.tick),\n      touchEvents : this.touchEvents(),\n      width       : 0\n    }\n  },\n\n  touchEvents() {\n    if (this.props.hasTouch) {\n      return {\n        onTouchStart  : this._onPress,\n        onTouchEnd    : this._onRelease,\n        onTouchCancel : this._onRelease\n      }\n    } else {\n      return {\n        onMouseDown   : this._onPress,\n        onMouseUp     : this._onRelease,\n        onMouseLeave  : this._onRelease\n      }\n    }\n  },\n\n  tick() {\n    let { ctx, color, density, height, width, store } = this.state\n\n    ctx.save()\n\n    ctx.scale(density, density)\n\n    ctx.clearRect(0, 0, width, height)\n\n    ctx.fillStyle = color\n\n    if (this.props.background) {\n      ctx.globalAlpha = store.getTotalOpacity(this.props.opacity)\n      ctx.fillRect(0, 0, width, height)\n    }\n\n    store.each(this.makeBlot, this)\n\n    ctx.restore()\n  },\n\n  makeBlot(blot) {\n    let { ctx, height, width } = this.state\n    let { x, y, radius } = blot\n\n    ctx.globalAlpha = Equations.getBlotOpacity(blot, this.props.opacity)\n    ctx.beginPath()\n\n    if (this.props.recenter) {\n      let size = Math.max(height, width)\n\n      x += Equations.getBlotShiftX(blot, size, width)\n      y += Equations.getBlotShiftY(blot, size, height)\n    }\n\n    ctx.arc(x, y, radius * Equations.getBlotScale(blot), 0, TAU)\n\n    ctx.closePath()\n    ctx.fill()\n  },\n\n  componentWillUnmount() {\n    this.state.store.stop()\n  },\n\n  pushBlot(timeStamp, clientX, clientY) {\n    let el = this.refs.canvas\n\n    // 0.13 support\n    if (el instanceof window.HTMLCanvasElement === false) {\n      el = el.getDOMNode()\n    }\n\n    let { top, bottom, left, right } = el.getBoundingClientRect()\n    let { color }                    = window.getComputedStyle(el)\n\n    let ctx     = this.state.ctx || el.getContext('2d');\n    let density = pixelRatio(ctx)\n    let height  = bottom - top\n    let width   = right - left\n    let radius  = Equations.getMaxRadius(height, width, this.props.radius)\n\n    this.setState({ color, ctx, density, height, width }, () => {\n      this.state.store.add({\n        duration  : this.props.duration,\n        mouseDown : timeStamp,\n        mouseUp   : 0,\n        radius    : radius,\n        x         : clientX - left,\n        y         : clientY - top\n      })\n    })\n  },\n\n  render() {\n    let { density, height, width, touchEvents } = this.state\n\n    return (\n      <canvas className=\"ink\"\n              ref=\"canvas\"\n              style={{ ...STYLE, ...this.props.style }}\n              height={ height * density }\n              width={ width * density }\n              onDragOver={ this._onRelease }\n              { ...touchEvents } />\n    )\n  },\n\n  _onPress(e) {\n    let { button, ctrlKey, clientX, clientY, changedTouches } = e\n    let timeStamp = Date.now()\n\n    if (changedTouches) {\n      for (var i = 0; i < changedTouches.length; i++) {\n        let { clientX, clientY } = changedTouches[i]\n        this.pushBlot(timeStamp, clientX, clientY)\n      }\n    } else if (button === MOUSE_LEFT && !ctrlKey) {\n      this.pushBlot(timeStamp, clientX, clientY)\n    }\n  },\n\n  _onRelease() {\n    this.state.store.release(Date.now())\n  }\n})\n\nmodule.exports = Ink\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js"],"sourceRoot":""}